import{b as e,B as o,c as a}from"./bit-design.3deb5ba5.js";import{d as t,u as i,J as l,a as s,K as n,l as d,F as r,_ as c,m as m,M as p,L as _}from"./common.4c529fd4.js";import{r as u,b as g,d as v,i as x,C as k,e as b,w as f,u as y,o as h,f as w,g as C,t as M,a as S,c as j,j as O,m as V,D as E,F as P,k as T,E as z,h as B}from"./vue.9399bbe7.js";import{f as D,g as H,h as I}from"./vendor.6c16fba9.js";import{a as A}from"./vite.444a98db.js";let L=t(e=>{let{rootProps:o,event:a,rootExport:t}=i(e,"CookieDialog");return{rootProps:o,event:a,rootExport:t}}),N=t(()=>{let{event:e}=L(),o=u(!1),a=u(!1),t=()=>{let e=l("OptanonConsent");if(e){let[t,i]=e.split("&");o.value="1"===t.split("=")[1],a.value="1"===i.split("=")[1]}};return g(()=>{t()}),{isMarketing:o,isStatistic:a,save:t=>{var i;if(o.value=t.isMarketing,a.value=t.isStatistic,D.set("OptanonAlertBoxClosed",new Date,{expires:365}),D.set("OptanonConsent",`isMarketing=${Number(t.isMarketing)}&isStatistic=${Number(t.isStatistic)}`,{expires:365}),t.isMarketing||D.remove("__adroll_fpc"),t.isStatistic||(D.remove("__ar_v4"),D.remove("__ar_v4"),D.remove("_ga"),D.remove("_ga_Z8Q93KHR0F"),D.remove("_ga_clientid"),D.remove("_ga_sessionid"),D.remove("afUserId"),D.remove("sajssdk_2015_cross_new_user"),D.remove("sensorsdata2015jssdkcross")),window.gtag)try{null==(i=window.gtag)||i.call(window,"consent","update",{ad_storage:t.isMarketing?"granted":"denied",ad_user_data:t.isMarketing?"granted":"denied",ad_personalization:t.isMarketing?"granted":"denied",analytics_storage:t.isStatistic?"granted":"denied"})}catch(e){console.error("MicroCookieDialog: gtag handle error",e)}else console.warn("MicroCookieDialog: gtag not detected");e.emit("cookieChange",{isMarketing:Number(t.isMarketing),isStatistic:Number(t.isStatistic)})},initCookie:t}}),se={class:"micro-privacy-dialog h-452px max-h-50vh overflow-y-auto text-primaryText pr-8px lt-md:h-[calc(100vh-152px-120px)] lt-md:max-h-inherit"},le={class:"mb-8px !leading-[19.6px]"},ne=["href"],de={class:"mb-8px"},re=["onClick"],U=A(v({__name:"PrivacyDialog",props:{visible:{type:Boolean}},emits:["update:visible","save"],setup(t,{emit:i}){let{t:l,formatLocalPath:d}=s(),{winWidth:r}=n(),{isMarketing:c,isStatistic:m,save:p,initCookie:_}=N(),u=x({get:()=>t.visible,set:e=>i("update:visible",e)}),v=k([{option:"common_cookie_dialog.essential",desc:"common_cookie_dialog.essential_desc",content:"common_cookie_dialog.essential_content",value:!0,disabled:!0,expanded:!1},{option:"common_cookie_dialog.marketing",desc:"common_cookie_dialog.marketing_desc",content:"common_cookie_dialog.marketing_content",value:c.value,disabled:!1,expanded:!1},{option:"common_cookie_dialog.statistic",desc:"common_cookie_dialog.statistic_desc",content:"common_cookie_dialog.statistic_content",value:m.value,disabled:!1,expanded:!1}]),T=()=>{p({isMarketing:v[1].value,isStatistic:v[2].value}),i("save"),u.value=!1};return g(()=>{_()}),(t,i)=>(h(),b(y(e),{modelValue:u.value,"onUpdate:modelValue":i[0]||(i[0]=e=>u.value=e),title:y(l)("common_cookie_dialog.new_title"),width:640,"close-on-click-modal":!1,"close-on-press-escape":!1,border:""},{footer:f(()=>[w(y(o),{type:"main",size:"medium",round:"",class:"mt-4px w-full rounded-12px",onClick:T},{default:f(()=>[C(M(y(l)("common_cookie_dialog.save")),1)]),_:1})]),default:f(()=>[S("div",se,[S("div",le,[C(M(y(l)("common_cookie_dialog.privacy_content"))+" ",1),S("a",{class:"underline text-primaryText",href:y(d)("/terms/cookie-compliance-protocol"),target:"_blank"},M(y(l)("common_cookie_dialog.cookie_policy")),9,ne)]),(h(!0),j(P,null,O(v,e=>(h(),j("div",de,[w(y(a),{disabled:e.disabled,modelValue:e.value,"onUpdate:modelValue":o=>e.value=o},{default:f(()=>[C(M(y(l)(e.option)),1)]),_:2},1032,["disabled","modelValue","onUpdate:modelValue"]),S("div",{class:"flex items-start justify-between gap-14px mb-8px !leading-[24px] lt-md:cursor-pointer",onClick:o=>e.expanded=!e.expanded},[S("span",null,M(y(l)(e.desc)),1),e.expanded?(h(),b(y(H),{key:0,class:"h-24px min-w-24px md:hidden"})):(h(),b(y(I),{key:1,class:"h-24px min-w-24px md:hidden"}))],8,re),V(S("div",{class:"p-12px bg-bgSecondary !leading-[19.6px] rounded-8px"},M(y(l)(e.content)),513),[[E,y(r)>=768||e.expanded]])]))),256))])]),_:1},8,["modelValue","title"]))}}),[["__scopeId","data-v-755e545f"]]),fe=Object.freeze(Object.defineProperty({__proto__:null,default:U},Symbol.toStringTag,{value:"Module"})),ce={key:0,class:"micro-cookie-dialog rounded-16px fixed z-9999 bottom-26px right-27px bg-dsColorLayerZero box-border w-343px px-16px py-24px lt-lg:px-24px lt-lg:w-full lt-lg:bottom-0 lt-lg:right-0 lt-lg:rounded-bl-0 lt-lg:rounded-br-0 mt-md:px-16px"},me={class:""},pe=["innerHTML"],_e={class:"mt-16px mb-16px flex flex-col gap-12px"},ue=A(v({__name:"CookieDialog",props:{cookieVisible:{type:Boolean,default:!0},locale:{},theme:{},logger:{type:Boolean},logEvent:{},gtag:{},twq:{}},setup(e,{expose:a}){d();let{t:t}=s(),{rootProps:i,rootExport:n}=L(e),{save:g}=N(),{globalEvent:v,EVENT_COOKIE_SHOW:x}=r(),k=u(!1),O=u(!1),V=()=>{g({isMarketing:!0,isStatistic:!0}),k.value=!1},E=()=>{g({isMarketing:!1,isStatistic:!1}),k.value=!1},P=()=>{O.value=!0};return T(()=>i.cookieVisible,()=>{k.value=i.cookieVisible&&!l("OptanonAlertBoxClosed")&&!_()},{immediate:!0}),v.on(x,P),z(()=>{v.off(x,P)}),a(n),(e,a)=>(h(),b(c,null,{default:f(()=>[y(m)?(h(),b(p,{key:0},{default:f(()=>[k.value?(h(),j("div",ce,[S("div",me,[S("p",{class:"text-14px leading-20px text-secondaryText",innerHTML:y(t)("common_cookie_dialog.new_content")},null,8,pe),S("div",_e,[w(y(o),{class:"lt-md:w-full lt-md:order-0 rounded-12px",type:"main",size:"medium","data-testid":"MicroCookieAcceptButton",onClick:V},{default:f(()=>[C(M(y(t)("common_cookie_dialog.accept_all_btn_text")),1)]),_:1}),w(y(o),{class:"lt-md:w-full lt-md:order-0 rounded-12px ml-0",size:"medium",type:"main","data-testid":"micro-cookie-decline",onClick:E},{default:f(()=>[C(M(y(t)("common_cookie_dialog.refuse_all_btn_text")),1)]),_:1})]),S("p",{class:"text-center text-ds-color-link-default mt-2px cursor-pointer",onClick:a[0]||(a[0]=e=>O.value=!0)},M(y(t)("common_cookie_dialog.cookie_setting")),1)])])):B("",!0),O.value?(h(),b(U,{key:1,visible:O.value,"onUpdate:visible":a[1]||(a[1]=e=>O.value=e),onSave:a[2]||(a[2]=e=>k.value=!1)},null,8,["visible"])):B("",!0)]),_:1})):B("",!0)]),_:1}))}}),[["__scopeId","data-v-45a6f363"]]),ye=Object.freeze(Object.defineProperty({__proto__:null,default:ue},Symbol.toStringTag,{value:"Module"}));export{ye as C,fe as P};