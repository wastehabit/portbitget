import{b as e,B as t,h as o}from"./bit-design.3deb5ba5.js";import{d as a,u as s,l as l,a as i,K as n,Z as r,p as c,r as m,t as d,D as p,_ as u,M as _,a4 as g}from"./common.4c529fd4.js";import{m as x,n as v,p as h,s as f}from"./vendor.6c16fba9.js";import{d as b,r as w,C as y,i as k,k as C,N as I,e as j,w as D,o as T,f as P,u as X,a as S,L as L,c as E,j as z,t as G,F as H,n as R,h as B,g as M}from"./vue.9399bbe7.js";import"./lodash.5e8ecc56.js";import"./Header.9051380b.js";import"./AppDownloadBar.bcf2194c.js";import"./vite.444a98db.js";import"./Footer.ee7ebc9c.js";import"./Search.6db64127.js";import"./RecommendCoins.17327c95.js";import"./swiper.61585180.js";import"./GlobalDialog.802390c6.js";import"./axios.1977eed3.js";import"./__commonjsHelpers__.7619f2af.js";let Ie=a(e=>{let{rootProps:t,event:o,rootExport:a}=s(e,"H5GuideDialog");return{rootProps:t,event:o,rootExport:a}}),De={class:"carousel"},Te={class:"text-center pt-30px pl-30px pb-0 pr-30px bg-dsColorBackgroundTertiary rounded-16px"},Pe={class:"h-40px mt-12px text-dsColorTextPrimary text-14px font-500"},Xe={class:"flex justify-between items-center mt-20px mb-12px"},Se={class:"flex items-center mb-12px"},Ee={class:"flex items-center"},Le={class:"flex justify-center"},ze=["src"],Ge={class:"mt-16px"},je={class:"flex"},He={class:"ml-16px"},Re={class:"text-16px font-500 text-dsColorTextPrimary"},Me={class:"text-14px text-dsColorTextTertiary mt-4px leading-[120%]"},Oe={class:"flex mt-24px"},Be={class:"ml-16px"},We={class:"text-16px font-500 text-dsColorTextPrimary"},Ae={class:"text-14px text-dsColorTextTertiary mt-4px leading-[120%]"},Ke={class:"flex flex-col"},Ue={class:"text-center text-20px"},qe={class:"flex justify-center items-center"},O=1728e5,lt=b({__name:"H5GuideDialog",props:{userInfo:{},locale:{},theme:{},logger:{type:Boolean},logEvent:{},gtag:{},twq:{}},setup(a,{expose:s}){l();let{rootProps:b,rootExport:A}=Ie(a),W=w({}),K=w(null),U=y({currentIndex:0,isDragging:!1,startX:0,translateX:0}),q=w(!1),{t:F,locale:N,getPathWithoutLocale:Y,formatLocalPath:Z}=i(),{isMobile:$}=n(),{cache:J,setCache:Q}=r("MICRO_H5_SECRET_KEY_DIALOG",{timestamp:""}),{cache:V,setCache:ee}=r("MICRO_H5_GUIDE_DIALOG",{neverShow:!1,timestamp:""}),et=k(()=>g()?[{src:"/micro-runtime/assets/step1.4a116559.webp",text:F("common_h5app_guide_dialog.step_one")},{src:"/micro-runtime/assets/step2.8745275d.webp",text:F("common_h5app_guide_dialog.step_two")},{src:"/micro-runtime/assets/step3.81438db9.webp",text:F("common_h5app_guide_dialog.step_three")}]:[{src:"/micro-runtime/assets/android_step1.bb76f479.webp",text:F("common_h5app_guide_dialog.step_android_one")},{src:"/micro-runtime/assets/android_step2.561740f1.webp",text:F("common_h5app_guide_dialog.step_android_two")},{src:"/micro-runtime/assets/android_step3.29c46b9d.webp",text:F("common_h5app_guide_dialog.step_android_three")}]),{complianceProcess:eo,waitProcess:ea}=c(),{visible:es,close:el}=m({...d.H5GuideDialog,shouldExecute:e=>[p.LocaleChange,p.UserInfoChange].includes(e.type),async shouldProcess(){var e,t;await ea();let o=Y();return!(""!==o&&"/"!==o)&&!(!$.value||"ja"!==N.value)&&(eo.hasLogin&&!(null!=(t=b.userInfo)&&t.fdf)?(e=location.host,!!["bitget.com","bitget.tools"].some(t=>e.endsWith(t))&&!(J.value.timestamp&&Date.now()-+J.value.timestamp<1728e5)):!eo.hasLogin&&!V.value.neverShow&&!(V.value.timestamp&&Date.now()-+V.value.timestamp<1728e5))}});C(()=>b.userInfo,e=>{e&&(W.value=e)},{immediate:!0});let ei=()=>{q.value=!0},en=()=>{q.value=!1,el(),ee({neverShow:!1,timestamp:Date.now().toString()})},er=()=>{q.value=!1,el(),ee({neverShow:!0,timestamp:""})},ec=()=>{el(),Q({timestamp:Date.now().toString()})},em=()=>{Q({timestamp:Date.now().toString()}),f(Z("/account/setting/bindpasskeys"))},ed=k(()=>{var e;return{transform:`translateX(${-(100*U.currentIndex)+U.translateX/((null==(e=K.value)?void 0:e.clientWidth)||1)*100}%)`,transition:U.isDragging?"none":"transform 0.3s ease"}}),ep=()=>{var e,t;U.currentIndex===(null==(e=et.value)?void 0:e.length)-1&&(el(),ee({neverShow:!1,timestamp:Date.now().toString()})),U.currentIndex<(null==(t=et.value)?void 0:t.length)-1&&U.currentIndex++},eu=e=>{U.isDragging=!0,U.startX=e.touches[0].clientX},e_=e=>{if(!U.isDragging)return;let t=e.touches[0].clientX-U.startX;U.translateX=t},eg=()=>{var e;U.isDragging=!1,U.translateX>50&&U.currentIndex>0?U.currentIndex--:U.translateX<-50&&U.currentIndex<(null==(e=et.value)?void 0:e.length)-1&&U.currentIndex++,U.translateX=0};return s(A),(a,s)=>{let l=I("Img");return T(),j(u,null,{default:D(()=>[P(_,{theme:X(b).theme},{default:D(()=>[P(X(e),{"model-value":X(es)&&!X(eo).hasLogin,title:X(F)("common_h5app_guide_dialog.title"),"align-left":"","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},{default:D(()=>[S("div",De,[S("div",{ref_key:"containerRef",ref:K,class:"carousel-container",onTouchstart:eu,onTouchmove:e_,onTouchend:eg},[S("div",{class:"carousel-track",style:L(ed.value)},[(T(!0),E(H,null,z(et.value,(e,t)=>(T(),E("div",{key:t,class:"carousel-item"},[S("div",Te,[P(l,{width:"280",src:e.src},null,8,["src"])]),S("div",Pe,G(e.text),1)]))),128))],4)],544),S("div",Xe,[S("div",Se,[(T(),E(H,null,z([0,1,2],(e,t)=>S("div",{key:t,class:R("w-11px h-4px mr-8px rounded-1px "+(e===U.currentIndex?"bg-dsColorTextPrimary":"bg-dsColorTextDisabled"))},null,2)),64))]),S("div",Ee,[U.currentIndex===et.value.length-1?(T(),E("div",{key:0,class:"mr-24px text-14px font-500 text-dsColorTextTertiary",onClick:ei},G(X(F)("common_h5app_guide_dialog.button_one")),1)):B("",!0),P(X(t),{class:"carousel-btn next min-w-96px",type:"main",size:"medium",onClick:ep},{default:D(()=>[U.currentIndex===et.value.length-1?(T(),E(H,{key:0},[M(G(X(F)("common_h5app_guide_dialog.button_two")),1)],64)):(T(),j(X(o),{key:1,size:16},{default:D(()=>[P(X(x))]),_:1}))]),_:1})])])])]),_:1},8,["model-value","title"]),P(X(e),{"model-value":X(es)&&X(eo).hasLogin,title:X(F)("common_h5app_guide_dialog.openkey_title"),"align-left":"","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},{footer:D(()=>[S("div",Ke,[P(X(t),{class:"w-full",size:"medium",type:"main",onClick:em},{default:D(()=>[M(G(X(F)("common_h5app_guide_dialog.openkey_button_one")),1)]),_:1}),P(X(t),{class:"w-full mt-16px ml-0",size:"medium",type:"main",onClick:ec},{default:D(()=>[M(G(X(F)("common_h5app_guide_dialog.openkey_button_two")),1)]),_:1})])]),default:D(()=>[S("div",null,[S("div",Le,[S("img",{src:X("/micro-runtime/assets/secret_key.ac5da1ca.png"),alt:"secret_key_img"},null,8,ze)]),S("div",Ge,[S("div",je,[P(X(o),{size:"24"},{default:D(()=>[P(X(v))]),_:1}),S("div",He,[S("div",Re,G(X(F)("common_h5app_guide_dialog.openkey_subtitle_one")),1),S("div",Me,G(X(F)("common_h5app_guide_dialog.openkey_subcontent_one")),1)])]),S("div",Oe,[P(X(o),{size:"24"},{default:D(()=>[P(X(h))]),_:1}),S("div",Be,[S("div",We,G(X(F)("common_h5app_guide_dialog.openkey_subtitle_two")),1),S("div",Ae,G(X(F)("common_h5app_guide_dialog.openkey_subcontent_two")),1)])])])])]),_:1},8,["model-value","title"]),P(X(e),{class:"micro-h5-never-reminder-dialog","model-value":q.value,responsive:!1,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"align-center":"",center:""},{footer:D(()=>[S("div",qe,[P(X(t),{size:"medium",onClick:en},{default:D(()=>[M(G(X(F)("common_h5app_guide_dialog.confirm_button_no")),1)]),_:1}),P(X(t),{size:"medium",type:"main",onClick:er},{default:D(()=>[M(G(X(F)("common_h5app_guide_dialog.confirm_button_yes")),1)]),_:1})])]),default:D(()=>[S("div",Ue,G(X(F)("common_h5app_guide_dialog.confirm_content")),1)]),_:1},8,["model-value"])]),_:1},8,["theme"])]),_:1})}}});export{lt as default};