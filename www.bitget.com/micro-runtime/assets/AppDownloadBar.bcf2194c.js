import{B as e,a as t}from"./bit-design.3deb5ba5.js";import"./Header.9051380b.js";import{o as o,c as a,a as r,r as l,b as s,d as n,e as i,w as p,f as d,u as c,t as u,g as m,h as g}from"./vue.9399bbe7.js";import{d as f,u as h,a as w,i as b,g as x,o as v,b as _,c as j,e as k,s as y,f as C,h as L,j as A,k as U,l as E,_ as B,m as D}from"./common.4c529fd4.js";import{_ as T}from"./vite.444a98db.js";import{A as H,s as P,a as $}from"./vendor.6c16fba9.js";import"./lodash.5e8ecc56.js";import"./AppDownloadBar.bcf2194c.js";import"./Footer.ee7ebc9c.js";import"./Search.6db64127.js";import"./RecommendCoins.17327c95.js";import"./swiper.61585180.js";import"./GlobalDialog.802390c6.js";import"./axios.1977eed3.js";import"./__commonjsHelpers__.7619f2af.js";let re={width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ne=[r("rect",{width:"36",height:"36",rx:"8",fill:"#00F0FF"},null,-1),r("path",{d:"M17.2038 15.0746H22.1378L27.1854 20.0633C27.5138 20.3878 27.5154 20.9156 27.1888 21.2418L20.7156 27.713H15.6328L17.1694 26.2271L22.8113 20.6506L17.2411 15.0742",fill:"#00040C"},null,-1),r("path",{d:"M19.2289 20.6388H14.2949L9.24731 15.6502C8.91896 15.3257 8.91729 14.7979 9.24396 14.4717L15.7172 8H20.7999L19.2633 9.48596L13.6214 15.0624L19.1917 20.6388",fill:"#00040C"},null,-1)],se={render:function(e,t){return o(),a("svg",re,ne)}},le=f(e=>{let{rootProps:t,event:o,rootExport:a}=h(e,"AppDownloadBar");return{rootProps:t,event:o,rootExport:a}}),ie=f(()=>{let{getPathWithoutLocale:e,locale:t}=w(),o=l([]),a=l(!0);async function r(){let{code:e,data:t}=await x({cache:{open:!0}});"00000"===e&&(o.value=t.map(e=>{let[t]=e.webUrl.split("?");return{...e,regExp:RegExp("^"+t.replace(/\{(\d+)\}/g,(e,t)=>`(?<p${t}>[\\w-]+)`))}}).sort((e,t)=>t.updateTime-e.updateTime))}function n(){var t,a;let r=e(),l=null;for(let e of o.value){let o=r.match(e.regExp);o&&(l&&((null==(t=o[0])?void 0:t.length)||0)<=l.matchLength||(l={...e,matchLength:(null==(a=o[0])?void 0:a.length)||0}))}let s=H+"/";if((null==l?void 0:l.jumpType)===2&&(s=location.href),(null==l?void 0:l.jumpType)===1){s=l.appUrl;let t=function(t){var o,a;let r=e(),l=(null==(o=r.match(t.regExp))?void 0:o.groups)||{};if(t.webUrl.includes("?")){let{query:e={}}=$.parseUrl(t.webUrl),{query:o={}}=$.parseUrl(location.href);for(let[t,r]of Object.entries(e)){let e=null==(a=r.match(/\d+/))?void 0:a[0];null!=e&&(l["p"+e]=o[t]||"")}}return Object.keys(l).forEach(e=>{l[e.replace("p","")]=l[e],delete l[e]}),l}(l);s=s.replace(/{([\|\d+]*)}/g,(e,o)=>{if(o.includes("|")){let e=o.split("|").find(e=>null!=t[e]&&""!==t[e]);return t[e]||""}return t[o]||""})}return s}return s(()=>{Promise.all([r(),b()?T(()=>import("./bitkeep.ab8cb3a3.js"),[]):null]).finally(()=>{a.value=!1})}),{openApp:async function(){var o;let r=e();if("/download"===r||"/appdownloads"===r||a.value)return;let l="";try{l=await async function(){var t;let o=e(),a=n(),r=j(),l=L(),s=r.clacCode||r.commonCode||r.registerVipNo||"";delete r.commonCode;let i={urlSource:a,url:o,screenWideHigh:`${l.width},${l.height}`,timeZoneOffset:new Date().getTimezoneOffset(),systemLanguage:navigator.language.toLocaleUpperCase(),networkStatus:k(),sourceReferer:null==(t=sessionStorage.getItem("sourceReferer"))?void 0:t.replace(/^\"|\"$/g,""),registerParams:r,showCode:s},{data:p}=await y(i);return C(p),p}()}catch{}let s=`${H}/main/safety_h5?safetyUrlKey=${encodeURIComponent(l)}`;if(b())try{null==(o=window.BitKeepInvoke)||o.openUrl(s)}catch(e){console.error("Can not open the bitget app, "+e.message)}else P(s);let i=location.href;window.setTimeout(()=>{i===location.href&&v(_(t.value),!1)},3e3)},loading:a}}),pe=f(()=>({trackAppDownloadClick:()=>{A({event_tracking:"bg_web_exchange_download_guide:open_click",event_tracking_id:"b3276",business1:"growth",business2:"marketing_growth"})},trackAppDownloadExpose(){U({event_tracking:"bg_web_exchange_download:guide_exposure",event_tracking_id:"b3277",business1:"growth",business2:"marketing_growth"})}})),ce={class:"ml-10px"},de=r("div",{class:"text-14px text-dsColorTextPrimary font-700 leading-22px"},"Bitget App",-1),ue={class:"text-12px text-thirdText leading-16px"},Ue=n({__name:"AppDownloadBar",props:{locale:{},theme:{},logger:{type:Boolean},logEvent:{},gtag:{},twq:{}},setup(a,{expose:l}){E();let{rootExport:n}=le(a);l(n);let{t:f}=w(),{trackAppDownloadExpose:h,trackAppDownloadClick:b}=pe(),{openApp:x,loading:v}=ie();return s(()=>{h()}),(a,l)=>(o(),i(B,null,{default:p(()=>[d(c(t),{theme:"dark",class:"!md:hidden"},{default:p(()=>[r("div",{class:"micro-download bg-dsColorAlwaysBlack relative z-1 flex items-center py-12px px-16px border-b-dsColorBorderSubtle border-b cursor-pointer",onClick:l[0]||(l[0]=e=>(c(b)(),c(x)()))},[d(c(se),{class:"w-36px h-36px"}),r("div",ce,[de,r("div",ue,u(c(f)("common_footer.down_desc")),1)]),c(D)&&!c(v)?(o(),i(c(e),{key:0,type:"main",class:"ml-auto w-80px !rounded-8px"},{default:p(()=>[m(u(c(f)("common_header.download_open")),1)]),_:1})):g("",!0)])]),_:1})]),_:1}))}});export{Ue as default};