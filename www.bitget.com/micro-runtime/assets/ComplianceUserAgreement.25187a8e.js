import{B as e,c as a,b as l}from"./bit-design.3deb5ba5.js";import{d as t,u as o,k as n,j as r,l as s,a as i,q as u,r as c,t as p,D as d,_ as m,m as v,M as g,R as _,v as f}from"./common.4c529fd4.js";import{d as b,i as k,r as x,e as h,w as j,o as w,u as y,f as C,g as U,t as E,a as A,B as T,h as I}from"./vue.9399bbe7.js";import{a as V}from"./vite.444a98db.js";import"./vendor.6c16fba9.js";import"./__commonjsHelpers__.7619f2af.js";import"./lodash.5e8ecc56.js";import"./Header.9051380b.js";import"./AppDownloadBar.bcf2194c.js";import"./Footer.ee7ebc9c.js";import"./Search.6db64127.js";import"./RecommendCoins.17327c95.js";import"./swiper.61585180.js";import"./GlobalDialog.802390c6.js";import"./axios.1977eed3.js";let te=t(e=>{let{rootProps:a,event:l,rootExport:t}=o(e,"ComplianceUserAgreement");return{rootProps:a,event:l,rootExport:t}}),oe=t(()=>({trackUserAgreementExpose(e){n({event_tracking:"bg_web_exchange_userterm:change_tip_exposure",event_tracking_id:"b12363",business1:"base",business2:null,event_tracking_ext:{country:e}})},trackUserAgreementClick(e){r({event_tracking:"bg_web_exchange_userterm:change_tip_click",event_tracking_id:"b12364",business1:"base",business2:null,timely:1,event_tracking_ext:{country:e}})}})),ne=["innerHTML"],be=V(b({__name:"ComplianceUserAgreement",props:{locale:{},theme:{},logger:{type:Boolean},logEvent:{},gtag:{},twq:{}},setup(t,{expose:o}){s();let{rootExport:n}=te(t),{t:r}=i(),{complianceSettingsData:b,waitCompliance:V}=u(),D=oe(),H=k(()=>b.find(e=>e.regulatoryDimension===_.USER_AGREEMENT_COMPLIANCE)),{visible:M,close:B}=c({...p.ComplianceUserAgreement,once:!0,shouldExecute:e=>e.type===d.UrlChange,shouldProcess:()=>(async function(){var e;if(await V(),!H.value)return!1;let a=null==(e=H.value.languageInfo)?void 0:e.link;if(a&&location.pathname.includes(a))return!1;if(H.value){M.value=!0;let e=H.value.countryCode||"";D.trackUserAgreementExpose(e)}return M.value})()}),P=x(!1),R=x(!1),S=k(()=>{var e,a;let l=null==(a=null==(e=H.value)?void 0:e.languageInfo)?void 0:a.popup;if(!l)return"";let{popupText:t,popupTextHighlight:o}=l,n=t||"";return(null==o?void 0:o.length)>0&&n&&(n=n.replace(/\{(\d+)\}/g,(e,a)=>{let l=o[a];return(null==l?void 0:l.linkUrl)&&(null==l?void 0:l.linkText)?`<a href="${l.linkUrl}" target="_blank">${l.linkText}</a>`:"{"+a+"}"})),n}),L=async()=>{var e,a;let l=(null==(e=H.value)?void 0:e.countryCode)||"";D.trackUserAgreementClick(l),R.value=!0;try{let e=null==(a=H.value)?void 0:a.configId;e&&await f({configId:e}),B()}finally{R.value=!1}};return o(n),(t,o)=>(w(),h(m,null,{default:j(()=>[y(v)?(w(),h(g,{key:0},{default:j(()=>{var t,n,s;return[C(y(l),{modelValue:y(M),"onUpdate:modelValue":o[1]||(o[1]=e=>T(M)?M.value=e:null),size:"small","align-center":"",left:"",title:null==(s=null==(n=null==(t=H.value)?void 0:t.languageInfo)?void 0:n.popup)?void 0:s.popupTitle,width:480,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},{footer:j(()=>[C(y(e),{class:"w-full",disabled:!P.value,round:"",size:"medium",type:"main",loading:R.value,onClick:L},{default:j(()=>[U(E(y(r)("compliance_russia.confirm")),1)]),_:1},8,["disabled","loading"])]),default:j(()=>[A("div",{class:"text-dsColorTextSecondary leading-[1.4] [overflow-wrap:anywhere] whitespace-pre-line",innerHTML:S.value},null,8,ne),C(y(a),{modelValue:P.value,"onUpdate:modelValue":o[0]||(o[0]=e=>P.value=e),class:"mt-24px whitespace-initial lt-md:!mt-8px"},{default:j(()=>{var e,a,l;return[U(E(null==(l=null==(a=null==(e=H.value)?void 0:e.languageInfo)?void 0:a.popup)?void 0:l.checkbox),1)]}),_:1},8,["modelValue"])]),_:1},8,["modelValue","title"])]}),_:1})):I("",!0)]),_:1}))}}),[["__scopeId","data-v-f8f8bb8a"]]);export{be as default};